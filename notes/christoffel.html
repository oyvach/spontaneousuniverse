<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" href="/spaceicon.ico">
    <meta name="viewport" content="initial-scale=1.0, width=device-width" />
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<!--     <script
      id="MathJax-script"
      async
      src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"
    ></script> -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Montserrat:wght@100;200;300;350;400;450;500;550;600&display=swap"
      rel="stylesheet"
    />
    <meta http-equiv="content-security-policy" content="">
		<link href="../_app/immutable/assets/0.1cea835a.css" rel="stylesheet">
		<link rel="modulepreload" href="../_app/immutable/entry/start.b8f07bad.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/index.fe3c98df.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/singletons.40ec8009.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/paths.6df3ca5b.js">
		<link rel="modulepreload" href="../_app/immutable/entry/app.791f0b76.js">
		<link rel="modulepreload" href="../_app/immutable/nodes/0.467adf0f.js">
		<link rel="modulepreload" href="../_app/immutable/nodes/10.233c0f18.js">
  </head>
  <body data-sveltekit-preload-data="hover">
    <div style="display: contents">


<div class="app svelte-1qo7bn3"><nav class="header svelte-1mfp3vh"><div class="logo svelte-1mfp3vh"><a href="/" class="svelte-1mfp3vh">Øyvind Christiansen </a></div>
  <div class="links"><div class="dropdown svelte-1mfp3vh"><span>Topics </span><span style="font-size:large;">☰</span>
      <div class="dropdown-content svelte-1mfp3vh"><div class="dropdown-item svelte-1mfp3vh"><a class="link svelte-1mfp3vh" href="/publications">Publications</a></div>
        <div class="dropdown-item svelte-1mfp3vh"><a class="link svelte-1mfp3vh" href="/projects">Projects</a></div>
        <div class="dropdown-item svelte-1mfp3vh"><a class="link svelte-1mfp3vh" href="/pop-science">Pop-science</a></div>
        <div class="dropdown-item svelte-1mfp3vh"><a class="link svelte-1mfp3vh" href="/notes">Notes</a></div>
        <div class="dropdown-item svelte-1mfp3vh"><a class="link svelte-1mfp3vh" href="/gallery">Gallery</a></div></div></div>
    <div class="link"><a href="/about">about me </a></div>

    <div class="link"><a href="/contact">contact </a></div></div>
</nav>
  <main class="content svelte-1qo7bn3"><h1>The Christoffel symbols of perturbed FLRW spacetimes
</h1>
<hr>
<p>It can be surprisingly difficult to find essential
	geometrical quantities you need to make calculations in
	some space times. They are easily available for the flat
	FLRW in for example (Dodelson 2003), but I have at least
	struggled finding them for the fully perturbed FLRW,
	especially when using fully conformal coordinates. One
	option is to use for example the 
    <span class="textlink"><a href="http://www.xact.es/">xAct</a></span>
    package of
	Mathematica, but here instead, I will present some
	analytically derived results that have been verified against
    a Christoffel solver I made in
    <span class="textlink"><a href="https://www.sympy.org/en/index.html">sympy</a></span>.
    The cosmic time coordinate
    calculation is made entirely in sympy. I will be using the
	Poisson gauge, which reduces to the Newtonian gauge in
	the weak-field limit. The space-time interval is stated
	in conformal coordinates
</p>
<span class="math">$$
    \rm d s^2 = a(\tau)^2\Big[ -e^{2\Psi (\tau, \vec x)}\rm d \tau^2 
    - 2 B_i(\tau, \vec x) \rm d x^i \rm d \tau + (e^{-2\Phi
    (\tau, \vec x)}\delta_{ij} + h_{ij}(\tau, \vec x))\rm d x^i \rm d x^j \Big],
    $$</span>
<p>from which we can find the metric. The connection does
	not need be defined in terms of the metric; it can
	instead be treated as an independent object as in the
	Palatini formalism. The most general connection
	describes a manifold that has curvature, torsion, and
	non-metricity, the latter of which relates to whether or
	not the covariant derivative that the connection forms
	commutes with the metric. If we require it to do so and
	also to have zero torsion, that fixes a unique
	connection in terms of the metric, known as the
	Christoffel symbol
</p>
<span class="math">$$
    \Gamma_{\mu\nu}^{\rho} =  \frac{1}{2}g^{\rho\lambda}
    \left(
    g_{\lambda\mu,\nu}+g_{\lambda\nu,\mu}-g_{\mu\nu,\lambda}
    \right).
    $$</span>
<p>When one is finding the divergence of a vector-field,
	one will require the self-contraction of the connection,
	so we will find this specifically below, in addition to
	the complete symbols. All symbols not shown are
	implicitply zero, and I have only done the expansions to
	first order in the metric potentials, following the
	linearisation scheme of (Adamek 2016).
</p>

<h2>Conformal time coordinates</h2>
<p>Using conformal time, \(\rm d\eta=\rm d t/a\), and
	space, \(\vec x = \vec x_p/a \), we find the Christoffel
	symbols
</p>
<span class="math">$$
    \begin{eqnarray}
    \Gamma^\alpha_{0\alpha} &amp;=&amp; \frac{1}{2}g^{\lambda\alpha}g_{\lambda\alpha,0} = \partial_0 \left( \Psi-3\Phi+\frac{1}{2}h\right)+4\mathcal{H}, \\
    \Gamma^\alpha_{i\alpha} &amp;=&amp;  \frac{1}{2}g^{\lambda\alpha}g_{\lambda\alpha,i} =\partial_i \left( \Psi-3\Phi+\frac{1}{2}h\right),\\
    \Gamma^0_{ij} &amp;=&amp; \mathcal{H}\left(
        1 - 2 \Psi - 2 \Psi - \dot\Phi/\mathcal{H}
    \right)\delta_{ij} + \mathcal{H}h_{ij} + \dot h_{ij}/2 
    + \partial_{(i}B_{j)},
    \\\Gamma^{\mu}_{00} &amp;=&amp;  \mathcal{H}\delta_t^{\mu}+\partial_\mu\Psi-\delta^{\mu i}(B_i\mathcal{H}+\dot B_i),
    \\\Gamma^{i}_{j0} &amp;=&amp;  \delta_{ij}\left( \mathcal{H}-\dot\Phi \right)+\dot{h}_{ij}/2 + \partial_{[i}B_{j]},
    \\\Gamma^{i}_{jk} &amp;=&amp;  \partial_{(j}h_{k)i}-\frac{1}{2}\partial_i h_{jk} 
    +\left(\partial_i\Phi + B_i \mathcal{H}\right)
     \delta_{jk} - 2\delta_{i(j} \partial_{k)}\Phi,
    \end{eqnarray}
    $$</span>
<p>the latter of which I found using sympy and compactified according to appararent index-dependencies of the terms.
	To find this result, I derived the inverse of the metric using the cofactor expansion and Cramer&#39;s
	rule
</p>
<span class="math">$$
    \begin{eqnarray}
    \sqrt{-g} &amp;=&amp; a^4\left(
        1+\Psi-3\Phi+h/2
    \right) \\
    g_{\mu\nu} &amp;=&amp; 
    a^{2} \begin{pmatrix}
    \quad-e^{2\Psi} &amp; -B_i \\
    -B_i &amp; \delta_{ij}e^{-2\Phi} +h_{ij}
    \end{pmatrix},\\
    g^{\mu\nu} &amp;=&amp; 
    a^{-2} \begin{pmatrix}
    \quad-e^{-2\Psi} &amp; -B_i \\
    -B_i &amp; \delta_{ij}e^{2\Phi} -h_{ij}
    \end{pmatrix},
    \end{eqnarray}
    $$</span>

<h2>Cosmic time coordinates</h2>

<p>In the case of using the cosmic time coordinate
	<span class="math--inline">\(\rm d t=a \rm d \eta \)</span>, we find the symbols
</p>
<span class="math">$$
    \begin{eqnarray}
    \Gamma^\alpha_{0\alpha} &amp;=&amp; \\
    \Gamma^\alpha_{i\alpha} &amp;=&amp;  \\
    \Gamma^0_{ij} &amp;=&amp;
    \ a \partial_{(i}B_{j)}
     + a \mathcal{H}\left(
        \left[1-2\Psi-2\Phi\right]\delta_{ij}+h_{ij}
    \right)+a^2\left(-\dot\Phi\delta_{ij}+\dot h_{ij}/2\right)
    \\
    \Gamma^i_{j0} &amp;=&amp;   \\
    \Gamma^0_{i0} &amp;=&amp;   \\
    \Gamma^{\mu}_{00} &amp;=&amp;  
    \end{eqnarray}
    $$</span>

<p>For which I have made use of the quantities</p>
<span class="math">$$
    \begin{eqnarray}
    g &amp;=&amp; g_{\rm{conformal}} \\
    g_{\mu\nu} &amp;=&amp; 
    \begin{pmatrix}
    \quad- e^{2\Psi} &amp; -a B_i \\
    -a B_i &amp; a^2\left( \delta_{ij}e^{-2\Phi} +h_{ij} \right)
    \end{pmatrix},\\
    g^{\mu\nu} &amp;=&amp; 
    \begin{pmatrix}
    \quad - e^{-2\Psi} &amp; -a^{-1} B_i \\
    - a^{-1}B_i &amp; a^{-2}\left( \delta_{ij}e^{2\Phi} -h_{ij}\right)
    \end{pmatrix},
    \end{eqnarray}
    $$</span>

<h3>Flat space</h3>

<span class="math">$$
    \begin{eqnarray}
    \Gamma^0_{ij} &amp;=&amp;  a \mathcal H \delta_{ij}
    \\\Gamma^i_{j0} &amp;=&amp; H \delta_{ij}
    \end{eqnarray}
    $$</span></main>
  <nav class="footer svelte-mx6kz2"></nav>
</div>


			
			<script>
				{
					__sveltekit_1v2exmm = {
						base: new URL("..", location).pathname.slice(0, -1),
						env: {}
					};

					const element = document.currentScript.parentElement;

					const data = [null,null];

					Promise.all([
						import("../_app/immutable/entry/start.b8f07bad.js"),
						import("../_app/immutable/entry/app.791f0b76.js")
					]).then(([kit, app]) => {
						kit.start(app, element, {
							node_ids: [0, 10],
							data,
							form: null,
							error: null
						});
					});
				}
			</script>
		</div>
  </body>
</html>
